image:
- Visual Studio 2017
version: "{build}"
configuration:
- Release
platform:
- x64
environment:
  matrix:
    - nodejs_version: "6.14.2"
    - nodejs_version: "8"
    - nodejs_version: "10"
    - nodejs_version: "11"
  PREBUILD_TOKEN:
    secure: v90vKbWs1OPl3zTHlO3UifQQ3pTPlxQvUTcJhkOJO6EZ+sFAKOTllWBDPqoIDgTS
matrix:
  fast_finish: true
install:
    - ps: Install-Product node $env:nodejs_version x64
    - ps: node --version
    - cmd: git submodule update --init --recursive
    - cmd: npm install
build: off
test_script:
  # - npm run rebuild
  - npm run test
# artifacts:
#   - path: '.\prebuilds\*.tar.gz'
# deploy:
#   provider: GitHub
#   draft: false
#   auth_token:
#     secure: v90vKbWs1OPl3zTHlO3UifQQ3pTPlxQvUTcJhkOJO6EZ+sFAKOTllWBDPqoIDgTS
#   on:
#     APPVEYOR_REPO_TAG: true
# skip_non_tags: true