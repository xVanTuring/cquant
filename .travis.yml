language: node_js
compiler:
  - clang
matrix:
  include:
    - name: "OS X - Node 8"
      os: osx
      osx_image: xcode10.1
      language: node_js
      node_js: "8"
      sudo: true
    - name: "Linux (glibc) - Node 8"
      os: linux
      dist: xenial
      sudo: true
      language: node_js
      node_js: "8"
      env:
        - CC="/usr/local/clang-7.0.0/bin/clang"
        - CXX="/usr/local/clang-7.0.0/bin/clang++"

before_install:
  - echo $CC
  - clang -v
  - clang++ -v
install:
  - npm install
if: tag IS present